{"version":3,"sources":["webpack:///webpack/bootstrap 3d62c47f2981763b85c1","webpack:///./src/WebGps.js","webpack:///./src/lib/Coordinate.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3d62c47f2981763b85c1","import Coordinate from \"./lib/Coordinate\";\n\nclass WebGPS {\n\n    constructor(onUpdate, onError) {\n        this.onUpdate = onUpdate;\n        this.onError = onError;\n        this._trackers = [];\n\n        navigator.geolocation.watchPosition((update) => {\n            this._locationUpdate(update.coords.latitude, update.coords.longitude);\n        }, this.onError, {enableHighAccuracy: true});\n    }\n\n    trackLocation(data, lat, long) {\n        this._trackers.push({\n            data: data,\n            coordinates: new Coordinate(lat, long)\n        });\n    }\n\n    _locationUpdate(lat, long) {\n        let currentLocation = new Coordinate(lat, long);\n        let trackingDistances = [];\n\n        this._trackers.forEach((tracker) => {\n            let distance = tracker.coordinates.distanceInMeters(currentLocation);\n            trackingDistances.push({\n                meters: distance,\n                tracker: tracker.data\n            });\n        });\n\n        this.onUpdate(trackingDistances);\n    }\n\n}\n\nwindow.WebGPS = WebGPS;\n\n\n\n// WEBPACK FOOTER //\n// ./src/WebGps.js","export default class Coordinate {\n\n    constructor(latitude, longitude) {\n        this.latitude = latitude;\n        this.longitude = longitude;\n    }\n\n    distanceInMeters(otherCoordinate) {\n        return this.distanceInKilometers(otherCoordinate) * 1000;\n    }\n\n    distanceInKilometers(otherCoordinate) {\n        let R = 6371; // Radius of the earth in km\n        let dLat = this._degreesToRadians(otherCoordinate.latitude-this.latitude);  // deg2rad below\n        let dLon = this._degreesToRadians(otherCoordinate.longitude-this.longitude);\n        let a =\n            Math.sin(dLat/2) * Math.sin(dLat/2) +\n            Math.cos(this._degreesToRadians(this.latitude)) * Math.cos(this._degreesToRadians(otherCoordinate.latitude)) *\n            Math.sin(dLon/2) * Math.sin(dLon/2)\n        ;\n        let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n        return  R * c; // Distance in km\n    }\n\n    _degreesToRadians(deg) {\n        return deg * (Math.PI/180)\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Coordinate.js"],"sourceRoot":""}